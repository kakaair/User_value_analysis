基于RFM的用户价值度模型  
Python版本：64位 3.6.3  
依赖库：time、numpy、pandas、mysql.connector  
程序输入：sales.csv  
程序输出：RFM得分数据写本地文件sales_rfm_score.csv和数据表（sales_rfm_score）  
注意：Python的工作目录是本人电脑路径，请根据自己文件目录做修改。  

RFM说明  
最近一次消费(Recency)  
消费频率(Frequency)  
消费金额(Monetary)  
RFM模型较为动态地显示了一个客户的全部轮廓，这对个性化的沟通和服务提供了依据，同时，如果与该客户打交道的时间足够长，也能够较为精确地判断该客户的长期价值(甚至是终身价值)，通过改善三项指标的状况，从而为更多的营销决策提供支持。  
在RFM模式中，R(Recency)表示客户购买的时间有多远，F(Frequency)表示客户在时间内购买的次数，M (Monetary)表示客户在时间内购买的金额。一般的分析型CRM着重在对于客户贡献度的分析，RFM则强调以客户的行为来区分客户。  
RFM非常适用于生产多种商品的企业，而且这些商品单价相对不高，如消费品、化妆品、小家电、录像带店、超市等;它也适合在一个企业内只有少数耐久商品，但是该商品中有一部分属于消耗品，如复印机、打印机、汽车维修等消耗品;RFM对于加油站、旅行保险、运输、快递、快餐店、KTV、行动电话信用卡、证券公司等也很适合。
RFM可以用来提高客户的交易次数。业界常用的DM(直接邮寄)，常常一次寄发成千上万封邮购清单，其实这是很浪费钱的。根据统计(以一般邮购日用品而言)，如果将所有R(Recency)的客户分为五级，最好的第五级回函率是第四级的三倍，因为这些客户刚完成交易不久，所以会更注意同一公司的产品信息。如果用M(Monetary)来把客户分为五级，最好与次好的平均回复率，几乎没有显著差异。  

案例过程  
一、获取数据  
二、数据审查和校验，主要包括数据概览、缺失值审查、异常数据  
三、数据预处理  
（1）缺失值处理：删除有异常值的行  
（2）异常值处理：丢弃订单金额<=1的记录  
（3）日期格式转换:将字符串转换为日期格式  
四、RMF分析实现过程  
4.1 数据计算  
（1）计算所有用户最近一次订单时间  
（2）计算所有用户原始订单频率  
（3）计算所有用户原始订单总金额  
4.2 计算RFM得分  
（1）将得分划分5个等级计算得分  
（2）按照r_score：f_score：m_score=0.6:0.3:0.2权重计算总得分  
五、保存RFM得分到MySQL数据库  
